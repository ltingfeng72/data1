# 图书管理系统 - 文件清单

## 项目概述
基于角色的访问控制（RBAC）图书管理系统，使用 C++ 和 ODBC 实现。

## 文件结构

```
library_system/
├── database/
│   └── schema.sql              # 数据库模式文件（MySQL）
├── src/
│   └── main.cpp                # C++ 主程序源代码
├── README.md                   # 项目文档（中英文）
└── .gitignore                  # Git 忽略文件配置
```

## 文件说明

### 1. database/schema.sql
**用途**: 数据库建表脚本
**内容**:
- 5个数据表：users, bookrack, books, reader, borrow
- 符合第三范式设计
- 包含外键约束
- 包含测试数据
- 包含性能索引

**使用方法**:
```bash
mysql -u root -p library < database/schema.sql
```

### 2. src/main.cpp
**用途**: C++ 应用程序源代码
**内容**:
- ODBC 数据库连接代码
- 用户登录认证
- 三种角色功能实现：
  - 管理员：增删改图书
  - 操作员：借书还书
  - 读者：查询图书和借阅记录
- 完整的错误处理
- 中英文双语注释

**编译方法**:
- Linux: `g++ -o library_system main.cpp -lodbc`
- Windows: `cl main.cpp odbc32.lib`

### 3. README.md
**用途**: 项目使用文档
**内容**:
- 项目介绍
- 数据库设计说明
- 数据库创建步骤
- ODBC 配置指南（Linux 和 Windows）
- 编译运行说明
- 默认测试账户
- 安全注意事项
- 故障排除指南

### 4. .gitignore
**用途**: Git 版本控制忽略规则
**内容**: 配置忽略临时文件和构建产物

## 下载方式

### 方式一：直接下载压缩包
本项目已打包为以下格式：
- `library_system.zip` (11 KB)
- `library_system.tar.gz` (9.1 KB)

### 方式二：从 GitHub 下载
```bash
git clone https://github.com/ltingfeng72/data1.git
cd data1
git checkout copilot/implement-rbac-library-system
```

### 方式三：下载单个文件
可以从 GitHub PR 页面单独下载需要的文件

## 快速开始

### 步骤 1: 创建数据库
```bash
# 登录 MySQL
mysql -u root -p

# 创建数据库
CREATE DATABASE library CHARACTER SET utf8mb4;

# 导入表结构
USE library;
SOURCE database/schema.sql;
```

### 步骤 2: 配置 ODBC
参考 README.md 中的 "ODBC 配置" 章节

### 步骤 3: 编译程序
```bash
cd src
g++ -o library_system main.cpp -lodbc
```

### 步骤 4: 运行程序
```bash
./library_system
```

## 默认测试账户

| 用户名    | 密码     | 角色   |
|----------|---------|--------|
| admin    | admin123| 管理员  |
| operator | oper123 | 操作员  |
| reader1  | read123 | 读者   |

## 系统要求

### 必需软件
- **数据库**: MySQL 5.7+ 或 MariaDB 10.2+
- **编译器**: 
  - Linux: g++ (支持 C++11)
  - Windows: Visual Studio 2015+ 或 MinGW
- **ODBC 驱动**:
  - Linux: unixODBC + MySQL Connector/ODBC
  - Windows: MySQL Connector/ODBC

### 操作系统
- Linux (Ubuntu, CentOS, Debian 等)
- Windows 7/8/10/11
- macOS (需要安装相应 ODBC 驱动)

## 功能特性

### 管理员功能
✓ 添加图书信息
✓ 删除图书记录
✓ 修改图书信息

### 操作员功能
✓ 借书登记
✓ 还书登记

### 读者功能
✓ 查询图书（支持关键字搜索）
✓ 查看个人借阅记录

## 技术特点

1. **安全性**: 基于角色的访问控制（RBAC）
2. **数据完整性**: 使用外键约束保证数据一致性
3. **跨平台**: 支持 Linux 和 Windows
4. **标准接口**: 使用 ODBC 标准接口
5. **规范设计**: 数据库符合第三范式

## 注意事项

⚠️ **本系统为教学演示项目**
- 密码采用明文存储，生产环境应使用加密算法
- SQL 语句使用字符串拼接，生产环境应使用参数化查询
- 数据库凭据硬编码，生产环境应使用环境变量

详细的安全改进建议请参考 README.md 中的 "安全注意事项" 章节。

## 文件大小统计

- schema.sql: 4.2 KB (122 行)
- main.cpp: 19 KB (619 行)
- README.md: 7.4 KB (350 行)
- 总计: ~31 KB (未压缩)

## 项目信息

- **仓库**: ltingfeng72/data1
- **分支**: copilot/implement-rbac-library-system
- **提交数**: 4 次提交
- **开发语言**: C++, SQL
- **数据库**: MySQL/MariaDB

## 联系与支持

如有问题或需要帮助，请在 GitHub 仓库中提交 Issue 或评论。

---

**最后更新**: 2024-12-16
**版本**: 1.0.0
